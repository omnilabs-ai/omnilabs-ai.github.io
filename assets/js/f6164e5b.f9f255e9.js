"use strict";(self.webpackChunkomnidocs=self.webpackChunkomnidocs||[]).push([[310],{295:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"endpoints/chat-completions","title":"\ud83d\udde8\ufe0f Chat Completions","description":"Method: chat()","source":"@site/docs/endpoints/chat-completions.md","sourceDirName":"endpoints","slug":"/endpoints/chat-completions","permalink":"/docs/endpoints/chat-completions","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/endpoints/chat-completions.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udccc Fetch Available Models","permalink":"/docs/endpoints/fetch-models"},"next":{"title":"\ud83d\uddbc\ufe0f Image Generation","permalink":"/docs/endpoints/image-generation"}}');var r=s(4848),o=s(8453);const a={sidebar_position:2},c="\ud83d\udde8\ufe0f Chat Completions",i={},l=[{value:"\ud83d\udcdd Example Usage",id:"-example-usage",level:4},{value:"\ud83d\udd39Parameters",id:"parameters",level:4},{value:"\ud83d\udd39Response Format",id:"response-format",level:4},{value:"Smart Model Selection",id:"smart-model-selection",level:3}];function d(e){const n={code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\ufe0f-chat-completions",children:"\ud83d\udde8\ufe0f Chat Completions"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Method:"})," ",(0,r.jsx)(n.code,{children:"chat()"})]}),"\n",(0,r.jsx)(n.p,{children:"Send chat completion requests to various LLM models through a unified interface."}),"\n",(0,r.jsx)(n.h4,{id:"-example-usage",children:"\ud83d\udcdd Example Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from omnilabs import OmniClient, ChatMessage\r\n\r\nclient = OmniClient()\r\n\r\n# Using ChatMessage objects\r\nmessages = [\r\n    ChatMessage(role="system", content="You are a helpful assistant."),\r\n    ChatMessage(role="user", content="Tell me a joke.")\r\n]\r\n\r\n# Or using dictionaries\r\nmessages = [\r\n    {"role": "system", "content": "You are a helpful assistant."},\r\n    {"role": "user", "content": "Tell me a joke."}\r\n]\r\n\r\nresponse = client.chat(\r\n    messages=messages,\r\n    model=\'gpt-4\',\r\n    temperature=0.7,\r\n    max_tokens=100\r\n)\r\nprint(response[\'content\'])\n'})}),"\n",(0,r.jsx)(n.h4,{id:"parameters",children:"\ud83d\udd39Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"messages"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"List[Union[Dict[str, str], ChatMessage]]"})}),(0,r.jsx)(n.td,{children:"List of messages. Each message can be a dictionary with 'role' and 'content' keys, or a ChatMessage object."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"model"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:"The model ID to use."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"temperature"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"float"})}),(0,r.jsxs)(n.td,{children:["Sampling temperature (default: ",(0,r.jsx)(n.code,{children:"0.7"}),")."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_tokens"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Optional[int]"})}),(0,r.jsx)(n.td,{children:"Maximum tokens to generate. If None, uses model default."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"stream"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:["Whether to stream the response (default: ",(0,r.jsx)(n.code,{children:"False"}),")."]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"response-format",children:"\ud83d\udd39Response Format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n    "model": "claude-3-5-sonnet-20241022",\r\n    "content": "Generated content",\r\n    "provider": "anthropic",\r\n    "usage": {\r\n        "all_tokens": 23,\r\n        "total_cost": 0.00001\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"smart-model-selection",children:"Smart Model Selection"}),"\n",(0,r.jsxs)(n.p,{children:["OmniRouter also provides a unique smart model selection feature through the ",(0,r.jsx)(n.code,{children:"smart_select()"})," method:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'response = client.smart_select(\r\n    messages=[ChatMessage(role="user", content="Solve this calculus problem: \u222bx\xb2dx")],\r\n    rel_accuracy=0.8,  # Prioritize accuracy\r\n    rel_cost=0.2,\r\n    verbose=True\r\n)\r\nprint(f"Selected model: {response[\'model\']}")\r\nprint(f"Response: {response[\'content\']}")\n'})}),"\n",(0,r.jsx)(n.p,{children:"This feature automatically selects the best model based on your specific needs, balancing factors like accuracy, cost, and latency."}),"\n",(0,r.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var t=s(6540);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);